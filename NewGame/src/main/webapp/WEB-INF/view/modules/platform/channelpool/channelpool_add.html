@layout("/common/_container.html"){
<!-- PAGE CONTENT BEGINS -->
<div class="row">
    <div class="col-xs-12 tb-grid">
        <form data-url="${ctxPath}/channelpool/save" method="post" class="form-horizontal" role="form">
            <table class="table table-bordered">
                <tbody>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">商户名称: </td>
                    <td >
                        <select type="text" id="mcId" name="channelpool.mcId"></select>
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">大渠道: </td>
                    <td >
                        <select type="text" id="cid" name="channelpool.cid"></select>
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">订单类型: </td>
                    <td>
                        <input type="radio" name="channelpool.type" value="0" checked>充值</input>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="channelpool.type" value="1">兑换</input>
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">代收手续费: </td>
                    <td>
                        <input type="text" name="channelpool.collectRate">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">代付手续费: </td>
                    <td>
                        <input type="text" name="channelpool.paymentRate">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">固定手续费: </td>
                    <td>
                        <input type="text" name="channelpool.money">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">是否开启: </td>
                    <td>
                        <input type="radio" name="channelpool.isOpen" value="0" checked>关闭</input>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="channelpool.isOpen" value="1">开启</input>
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">小渠道名称: </td>
                    <td>
                        <input type="text" name="channelpool.name">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">货币类型: </td>
                    <td>
                        <input type="text" name="channelpool.currencyType">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">渠道最小额度: </td>
                    <td>
                        <input type="text" name="channelpool.minLimit">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">渠道最大额度: </td>
                    <td>
                        <input type="text" name="channelpool.maxLimit">&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">标签状态: </td>
                    <td>
                        <input type="radio" name="channelpool.isLabel" value="0" checked>无</input>&nbsp;&nbsp;
                        <input type="radio" name="channelpool.isLabel" value="1" >new</input>
                        <input type="radio" name="channelpool.isLabel" value="2" >hot</input>
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">渠道税率（主动收取）: </td>
                    <td>
                        <input type="text" name="channelpool.channelTax" />
                    </td>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">固定手续费（主动收取）: </td>
                    <td>
                        <input type="text" name="channelpool.fee"/>
                    </td>

                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">金币兑换比率: </td>
                    <td>
                        <input type="text" name="channelpool.exchangeRatio"/>
                    </td>

                </tr>
                <tr>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">赠送比率: </td>
                    <td>
                        <input type="text" name="channelpool.giveRatio"/>
                    </td>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">排序: </td>
                    <td>
                        <input type="text" name="channelpool.sort"/>
                    </td>
                    <td style="vertical-align: middle !important;text-align:right;" class="bg-F5F5F5">总赢配置: </td>
                    <td>
                        <input type="text" name="channelpool.winConf"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>
<script>
    // 查询大渠道
    new Ajax("${ctxPath}/paychannel/findChannel", function (data) {
        console.log(data);
        if(data.code === 0 && BladeTool.isNotEmpty(data.data)) {
            var type = data.data;
            var html = '';
            for (var i = 0; i < type.length; i++) {
                html += '<option value="' + type[i]['id'] + '">' + type[i]['cname'] + '</option>';
            }
            $("#cid").html(html);
        }
    }).start();
    // 查询所有商户列表
    new Ajax("${ctxPath}/channelpool/findMcName", function (data) {
        console.log(data);
        if(data.code === 0 && BladeTool.isNotEmpty(data.data)) {
            var type = data.data;
            var html = '';
            for (var i = 0; i < type.length; i++) {
                html += '<option value="' + type[i]['id'] + '">' + type[i]['mcName'] + '</option>';
            }
            $("#mcId").html(html);
        }
    }).start();
</script>
<!-- 按钮 -->
@ include("/common/_curd/_btn.html",{btn_save:"确认添加",btn_close:"关闭"}) {}
@}